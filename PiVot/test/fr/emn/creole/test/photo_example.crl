(public: PhotoCloning,CountsIn,CountsOut; private:FPhoto,Response,Session,Photo,Result, Between,Suc)
/*
//The query
(!T => new(x,d1,d2) CountsIn(x,d1,d2,CountsOut),Session(x)
//!T => new(x,d1,d2) CountsIn(x,"01-01-2009","31-12-2009",CountsOut),Session(x)
|
Session(x),CountsOut(x,n) => Result(n)
)
;
//Artificial A-VM
(CountsIn(x,from,to,K) => new(y) Response(x,y,from,to,K,0), PhotoCloning(Photo,y)
;
Response(x,y,from,to,K,n),Photo(y,id,date) => new(m)Suc(m,n),Response(x,y,from,to,K,m)
//Between(from,date,to),Response(x,y,from,to,K,n),Photo(y,id,date) => new(m)Suc(m,n),Between(from,date,to),Response(x,y,from,to,K,m)
;
Response(x,y,from,to,K,n) => K(x,n)
)
;
//Artificial F-VM
//(!T => Between("01-01-2009","01/02/2009","31-12-2009"),Between("01-01-2009","30/03/2009","31-12-2009")
//|
PhotoCloning(K,y) => K(y,1,"01/02/2009"),K(y,2,"30/03/2009"),K(y,3,"01/04/2010")
*/

!T => new(x,y,a,b,c) Response(x,y,0,CountsOut),Photo(x,a),Photo(x,b),Photo(x,c),Photo(null,null)
;
Response(x,y,z,K),Photo(x,y) => new(m) Suc(z,m),Response(x,y,m,K)
//;
//Response(x,y,n,K) => K(x,n)





